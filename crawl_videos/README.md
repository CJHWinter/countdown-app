# B站视频下载器

一个美观易用的B站视频下载工具，支持高清视频和高质量音频下载。

## 功能特点

- 🎥 支持B站视频下载
- 🎵 高质量音频提取
- 📱 响应式设计，支持移动端
- 🔐 支持登录状态下载会员内容
- 📊 实时下载进度显示
- 📁 文件管理功能
- 🎨 美观现代的用户界面

## 安装要求

### 系统要求
- Python 3.7+
- FFmpeg（用于视频处理）

### Python依赖
所有依赖已列在 `requirements.txt` 文件中。

## 安装步骤

### 1. 安装FFmpeg

**Windows:**
1. 下载FFmpeg: https://ffmpeg.org/download.html
2. 解压到任意目录（如 `C:\ffmpeg`）
3. 将 `C:\ffmpeg\bin` 添加到系统环境变量PATH中
4. 重启命令提示符，输入 `ffmpeg -version` 验证安装

**macOS:**
```bash
brew install ffmpeg
```

**Linux:**
```bash
sudo apt update
sudo apt install ffmpeg
```

### 2. 安装Python依赖

```bash
pip install -r requirements.txt
```

### 3. 运行程序

```bash
python app.py
```

程序启动后，在浏览器中访问：http://localhost:5000

## 使用方法

### 基本使用

1. **输入视频URL**：在输入框中粘贴B站视频链接
2. **获取视频信息**：点击"获取信息"按钮查看视频详情
3. **选择质量**：选择视频和音频质量
4. **开始下载**：点击"开始下载"按钮
5. **查看进度**：实时查看下载进度
6. **下载文件**：在文件列表中下载完成的文件

### 高级功能

#### 使用Cookies下载会员内容

如果需要下载会员专享或需要登录的内容，需要提供B站的Cookies：

1. **获取Cookies**（推荐方法）：
   
   ⚠️ **重要提示**：现代浏览器（如Chrome、Edge）的Cookies通常是加密的，手动从开发者工具复制可能无法使用！
   
   **推荐使用"Cookie获取器"插件（Edge浏览器）**：
   - 在Edge浏览器扩展商店搜索并安装"Cookie获取器"插件
   - 登录B站后，点击插件图标
   - 选择"复制B站Cookie"即可一键获取可用Cookie
   - 该插件亲测好用，可获取完整的、未加密的Cookie字符串
   
   **备用方法（如果插件不可用）**：
   - 在浏览器中登录B站
   - 按F12打开开发者工具
   - 切换到"Network"（网络）标签
   - 刷新页面
   - 点击任意请求
   - 在请求头中找到"Cookie"字段
   - 复制Cookie值（注意：此方法获取的Cookie可能因加密而无法使用）

2. **使用Cookies**：
   - 将复制的Cookie值粘贴到"B站Cookies"文本框中
   - 正常进行下载操作
   - 如果提示Cookie无效，请尝试使用"Cookie获取器"插件获取

#### 支持的URL格式

- 标准视频链接：`https://www.bilibili.com/video/BV1xx411c7mD`
- 短链接：`https://b23.tv/xxxxxx`
- 移动端链接：`https://m.bilibili.com/video/BV1xx411c7mD`

## 质量选项说明

### 视频质量
- **最高质量**：自动选择可用的最高画质
- **1080P**：1080P高清画质
- **720P**：720P标清画质
- **最低质量**：最低画质（节省空间）

### 音频质量
- **最高质量**：最高音质
- **最低质量**：最低音质

## 文件存储

- 下载的文件保存在 `downloads/` 目录中
- 文件名格式：`视频标题.mp4`
- 支持直接在浏览器中下载文件

## 常见问题

### Q: 下载失败怎么办？
A: 请检查：
1. 网络连接是否正常
2. 视频链接是否有效
3. 是否需要登录（提供Cookies）
4. FFmpeg是否正确安装

### Q: 如何下载高质量音频？
A: 选择"最高质量"的音频选项，程序会自动提取最佳音质。

### Q: 支持批量下载吗？
A: 当前版本不支持批量下载，需要逐个下载视频。

### Q: 下载速度慢怎么办？
A: 下载速度取决于网络状况和B站服务器响应，建议：
1. 检查网络连接
2. 尝试在网络较好的时段下载
3. 选择较低的视频质量

## 技术架构

- **后端**：Flask + yt-dlp
- **前端**：HTML5 + CSS3 + JavaScript
- **视频处理**：FFmpeg
- **下载引擎**：yt-dlp

## 注意事项

1. **版权声明**：请遵守相关法律法规，仅用于个人学习和研究
2. **使用限制**：请勿用于商业用途或大规模下载
3. **账号安全**：使用Cookies时请注意账号安全
4. **存储空间**：注意本地存储空间，及时清理不需要的文件

## 更新日志

### v1.0.0
- 初始版本发布
- 支持B站视频下载
- 美观的用户界面
- 实时进度显示
- 文件管理功能

## 许可证

本项目仅供学习交流使用，请遵守相关法律法规。

## 支持

如果遇到问题或有建议，请通过以下方式联系：
- 创建Issue
- 发送邮件

---

**免责声明**：本工具仅供学习和个人使用，请遵守B站的使用条款和相关法律法规。用户需对使用本工具的行为承担全部责任。